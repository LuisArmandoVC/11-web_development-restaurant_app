{% extends 'core/master.html' %}

{% block content %}
    <h1 class="container bg-gray-figma-100 py-10 text-mobile-heading-large font-bold">Estas a un paso de completar tu pedido</h1>
    <section class="bg-gray-figma-100 container lg:relative lg:pb-16">

        {% comment %} Address block {% endcomment %}
        <article class="bg-white shadow-checkoutSections rounded-xl py-10 px-5 2xl:px-12 lg:w-2/3">
            <h2 class="text-gray-figma-1000 mb-10 font-bold text-mobile-heading-block">Dirección de entrega</h2>
            <label class="text-gray-figma-1000 text-mobile-paragraph-standard" for="address">Dirección</label>
            <div class="flex gap-5 items-center">
                <input class="w-11/12 lg:w-1/2 xl:w-1/3 text-mobile-paragraph-large text-gray-figma-1000" readonly type="text" name="address" id="address" value="Cra 69 # 19 - 50, Bogotá, Colombia">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M10 19.0002H19M14.5 2.50023C14.8978 2.1024 15.4374 1.87891 16 1.87891C16.2786 1.87891 16.5544 1.93378 16.8118 2.04038C17.0692 2.14699 17.303 2.30324 17.5 2.50023C17.697 2.69721 17.8532 2.93106 17.9598 3.18843C18.0665 3.4458 18.1213 3.72165 18.1213 4.00023C18.1213 4.2788 18.0665 4.55465 17.9598 4.81202C17.8532 5.06939 17.697 5.30324 17.5 5.50023L5 18.0002L1 19.0002L2 15.0002L14.5 2.50023Z" stroke="#FD7400" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>                    
            </div>
            
            {% comment %} FALTA INPUT DE DETALLES DE DIRECCION E INSTRUCCIONES DE ENTREGA {% endcomment %}
        </article>
        {% comment %} Payment method block {% endcomment %}
        <article class="mt-5 bg-white shadow-checkoutSections rounded-xl py-10 px-5 2xl:px-12 lg:w-2/3">
            <div class="flex gap-5 items-center mb-12">
                <svg width="29" height="29" viewBox="0 0 29 29" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M14.4998 26.5827C21.1733 26.5827 26.5832 21.1728 26.5832 14.4993C26.5832 7.82591 21.1733 2.41602 14.4998 2.41602C7.8264 2.41602 2.4165 7.82591 2.4165 14.4993C2.4165 21.1728 7.8264 26.5827 14.4998 26.5827Z" stroke="#2B9943" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M10.875 14.4987L13.2917 16.9154L18.125 12.082" stroke="#2B9943" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>                    
                <h2 class="text-gray-figma-1000 text-mobile-heading-block font-bold">Método de pago</h2>
            </div>
            <div class="xl:flex xl:items-center xl:justify-around">
                <p class="text-gray-figma-1000 text-mobile-paragraph-large xl:w-1/3">Métodos disponibles:</p>
                <div class="mt-5 xl:mt-0 flex justify-between items-center border-[0.5px] border-gray-figma-900 rounded-xl py-4 px-3 xl:w-1/3">
                    <svg width="36" height="35" viewBox="0 0 36 35" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M29.6666 7.29169H6.33329C4.72246 7.29169 3.41663 8.59752 3.41663 10.2084V24.7917C3.41663 26.4025 4.72246 27.7084 6.33329 27.7084H29.6666C31.2775 27.7084 32.5833 26.4025 32.5833 24.7917V10.2084C32.5833 8.59752 31.2775 7.29169 29.6666 7.29169Z" stroke="#313131" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M3.41663 14.5834H32.5833" stroke="#313131" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>                       
                    <label for="online_payment">Pago en linea</label>
                    <input type="radio" id="online_payment" name="payment_type" value="online_payment" checked>
                </div>
                <div class="mt-5 xl:mt-0 flex justify-between items-center border-[0.5px] border-gray-figma-900 rounded-xl py-4 px-3 xl:w-1/3 xl:ml-2 screen-1720:ml-8">
                    <svg width="37" height="37" viewBox="0 0 37 37" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M18.5 36C28.165 36 36 28.165 36 18.5C36 8.83502 28.165 1 18.5 1C8.83502 1 1 8.83502 1 18.5C1 28.165 8.83502 36 18.5 36Z" stroke="#2B9943" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M25.5 11.5H15C14.0717 11.5 13.1815 11.8687 12.5251 12.5251C11.8687 13.1815 11.5 14.0717 11.5 15C11.5 15.9283 11.8687 16.8185 12.5251 17.4749C13.1815 18.1313 14.0717 18.5 15 18.5H22C22.9283 18.5 23.8185 18.8687 24.4749 19.5251C25.1313 20.1815 25.5 21.0717 25.5 22C25.5 22.9283 25.1313 23.8185 24.4749 24.4749C23.8185 25.1313 22.9283 25.5 22 25.5H11.5M18.5 29V8" stroke="#2B9943" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <label for="cash">Efectivo</label>
                    <input type="radio" id="cash" name="payment_type" value="cash">
                </div>
            </div>
        </article>
        {% comment %} Discount cupon {% endcomment %}
        <article class="mt-5 bg-white shadow-checkoutSections rounded-xl py-10 px-5 2xl:px-12 lg:w-2/3 xl:flex xl:items-center">
            <div class="flex gap-5 items-center xl:w-1/4">
                <svg width="29" height="29" viewBox="0 0 29 29" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M15.7082 6.04102V8.45768M15.7082 20.541V22.9577M15.7082 13.291V15.7077M2.4165 10.8743C3.37791 10.8743 4.29995 11.2563 4.97977 11.9361C5.65959 12.6159 6.0415 13.5379 6.0415 14.4993C6.0415 15.4608 5.65959 16.3828 4.97977 17.0626C4.29995 17.7424 3.37791 18.1243 2.4165 18.1243V20.541C2.4165 21.182 2.67112 21.7966 3.12433 22.2499C3.57754 22.7031 4.19223 22.9577 4.83317 22.9577H24.1665C24.8074 22.9577 25.4221 22.7031 25.8753 22.2499C26.3286 21.7966 26.5832 21.182 26.5832 20.541V18.1243C25.6218 18.1243 24.6997 17.7424 24.0199 17.0626C23.3401 16.3828 22.9582 15.4608 22.9582 14.4993C22.9582 13.5379 23.3401 12.6159 24.0199 11.9361C24.6997 11.2563 25.6218 10.8743 26.5832 10.8743V8.45768C26.5832 7.81674 26.3286 7.20205 25.8753 6.74884C25.4221 6.29563 24.8074 6.04102 24.1665 6.04102H4.83317C4.19223 6.04102 3.57754 6.29563 3.12433 6.74884C2.67112 7.20205 2.4165 7.81674 2.4165 8.45768V10.8743Z" stroke="#FD7400" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <h2 class="text-mobile-heading-block font-bold">Cupón</h2>
            </div>
            <form class="mx-auto xl:mx-0 xl:flex xl:items-center xl:w-3/4 xl:gap-3" action="" method="POST">
                {% csrf_token %}
                <div class="relative mt-10 xl:mt-0 xl:w-[60%] screen-1720:w-[71%]">
                    {{ form.cupon_value }}
                    {{ form.cupon_value.errors }}
                </div>
                <div class="mt-6 xl:mt-0 xl:ml-auto">
                    <button type="submit" class="btn-cta w-full">
                        + Agregar cupón
                    </button>
                </div>
            </form>
        </article>
        {% comment %} Tip block {% endcomment %}
        <article class="mt-5 bg-white shadow-checkoutSections rounded-xl py-10 px-5 2xl:px-12 lg:w-2/3">
            <h2 class="text-mobile-heading-block lg:text-desktop-heading-block font-bold">Añade tu propina</h2>
            <div class="mt-12 flex items-center flex-wrap gap-4">
                <button class="block border-[1px] border-gray-figma-900 rounded-md px-4 py-2 text-mobile-paragraph-standard lg:text-desktop-paragraph-large">5%</button>
                <button class="block border-[1px] border-gray-figma-900 rounded-md px-4 py-2 text-mobile-paragraph-standard lg:text-desktop-paragraph-large">8%</button>
                <button class="block border-[1px] border-gray-figma-900 rounded-md px-4 py-2 text-mobile-paragraph-standard lg:text-desktop-paragraph-large">10%</button>
                <button class="block border-[1px] border-gray-figma-900 rounded-md px-4 py-2 text-mobile-paragraph-standard lg:text-desktop-paragraph-large">Otro</button>
            </div>
        </article>
        {% comment %} Summary {% endcomment %}
        <article class="mt-5 lg:mt-0 bg-white shadow-checkoutSections rounded-xl py-10 px-5 lg:w-1/4 2xl:w-1/5 lg:absolute lg:top-0 lg:right-0 lg:mr-16 xl:mr-figmaMargins 2xl:mr-[14.06rem]">
            <h2 class="text-gray-figma-1000 text-mobile-heading-block font-bold">Resumen</h2>
            <div class="my-12">
                <div class="flex items-center justify-between">
                    <p>Costo de productos</p>
                    <p class="productCosts">Calculando...</p>
                </div>
                <div class="mt-5 flex items-center justify-between">
                    <p>Tarifa de servicio</p>
                    <p class="serviceFeeCosts">Calculando...</p>
                </div>
                <div class="mt-5 flex items-center justify-between">
                    <p>Costo de envío</p>
                    <p class="shippingCost">Calculando...</p>
                </div>
                <div class="mt-5 flex items-center justify-between">
                    <em class="not-italic font-bold">Total</em>
                    <em class="not-italic font-bold orderTotal">Calculando...</em>
                </div>
            </div>
            <div class="flex items-center justify-between">
                <button class="block text-primary">Detalle</button>
                <button class="block text-primary">Nuestros costos</button>
            </div>
            {% comment %} Complete button desktop version {% endcomment %}
            <div class="mt-5 mb-10 hidden lg:block">
                <button class="w-full btn-cta" onclick="clickingPayment()">
                    Termina tu pedido
                </button>
            </div>
        </article>
        {% comment %} Complete button mobile version {% endcomment %}
        <article class="mt-5 mb-8 sticky bottom-0 lg:hidden">
            <button class="w-full btn-cta mb-2" onclick="clickingPayment()">
                Termina tu pedido
            </button>
        </article>
    </section>
{% endblock %}

{% block vendors %}
    <script type="text/javascript" src="https://checkout.wompi.co/widget.js"></script>
{% endblock  %}

{% block scripts %}
    {% load static %}
    <script src="{% static '/products/js/checkout.js' %}"></script>
{% endblock  %}